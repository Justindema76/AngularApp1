<div class="container-fluid">
    <div class="row">
        <div class="bg-dark text-white p-3" style="background-color: #4b2e4d; font-family: 'Cinzel', serif;">
            <span class="navbar-brand ml-3">
                THE GAME OF THRONES - TOURS
                <cart-summary></cart-summary>
            </span>
        </div>
    </div>
    
    <div class="row">
        <div class="col-12 p-2">
            <div class="row"> <!-- Start a new row for the cards -->
                <div class="col-4 mb-3" *ngFor="let product of products"> <!-- Set each card to take 4 columns (1/3 of 12) -->
                    <div class="card h-100" style="background-color: #f8f9fa; border: 2px solid #4b2e4d; border-radius: 15px; box-shadow: 0 4px 8px rgba(0,0,0,0.2);">
                        <div class="card-body">
                            <h4 class="card-title" style="font-family: 'Cinzel', serif; color: #4b2e4d;">
                                {{ product.name }}
                                <span class="badge rounded-pill" style="background-color: #c9a977; color: #000;">
                                    {{ product.price | currency: 'CAD': 'symbol': '2.2-2' }}
                                </span>
                            </h4>
                            <p class="card-text" style="font-family: 'Garamond', serif; color: #333;">
                                {{ product.description }}
                            </p>
                            
                            <div class="mb-3">
                                <label for="productDate{{ product.id }}" class="form-label" style="font-family: 'Cinzel', serif; color: #4b2e4d;">Select Date</label>
                                <input 
                                    type="date" 
                                    id="productDate{{ product.id }}" 
                                    class="form-control" 
                                    [(ngModel)]="product.selectedDate" 
                                    [min]="today"  
                                    style="border: 1px solid #4b2e4d;"
                                />
                            </div>
                            
                            <div class="mb-3">
                                <label for="timeSlot{{ product.id }}" class="form-label" style="font-family: 'Cinzel', serif; color: #4b2e4d;">Select Time Slot:</label>
                                <select id="timeSlot{{ product.id }}" class="form-select" [(ngModel)]="product.selectedTimeSlot" style="border: 1px solid #4b2e4d;">
                                    <option value="" disabled selected>Select a time slot</option>
                                    <option *ngFor="let slot of timeSlots" [value]="slot">{{ slot }}</option>
                                </select>
                            </div>
                        
                            <div class="input-group mb-3">
                                <input type="number" class="form-control" [(ngModel)]="product.quantity" min="1" placeholder="Quantity" style="border: 1px solid #4b2e4d;" />
                                <button class="btn btn-success btn-sm" (click)="addProductToCart(product)" style="background-color: #4b2e4d; color: #fff;">
                                    Add To Cart
                                </button>
                            </div>
                        </div>
                    </div>
                </div> <!-- End of card -->
            </div> <!-- End of row for cards -->
        </div>
    </div>
</div>
